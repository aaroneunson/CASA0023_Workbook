<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>CASA0023_Workbook - 4&nbsp; Policy</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Week6.html" rel="next">
<link href="./Week3.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./Week4.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Policy</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">CASA0023_Workbook</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Week 1 - Getting Started With Remote Sensing</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Using Xaringnan</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Corrections and Enahancements</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week4.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Policy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Intro to Google Earth Engine</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Classification I</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Classification II</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Week9.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">SAR</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">References</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary"><span class="header-section-number">4.1</span> Summary</a>
  <ul class="collapse">
  <li><a href="#jakartas-current-strategy" id="toc-jakartas-current-strategy" class="nav-link" data-scroll-target="#jakartas-current-strategy"><span class="header-section-number">4.1.1</span> Jakarta’s Current Strategy</a></li>
  </ul></li>
  <li><a href="#application" id="toc-application" class="nav-link" data-scroll-target="#application"><span class="header-section-number">4.2</span> Application</a></li>
  <li><a href="#reflection" id="toc-reflection" class="nav-link" data-scroll-target="#reflection"><span class="header-section-number">4.3</span> Reflection</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Policy</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="summary" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="summary"><span class="header-section-number">4.1</span> Summary</h2>
<p>Jakarta faces a significant risk of flooding due to a combination of geographical, environmental, and human factors <a href="https://www.mdpi.com/2071-1050/10/8/2934">(1)</a> <a href="https://eastasiaforum.org/2021/07/13/better-flood-management-can-save-jakarta/">(2)</a>:</p>
<ol type="1">
<li><p><strong>Geographical Location:</strong> Jakarta is situated on the northwest coast of Java, at the mouth of the Ciliwung River on Jakarta Bay, which leads to the Java Sea. This coastal and low-lying geography makes it inherently vulnerable to flooding from the sea, especially during high tide events.</p></li>
<li><p><strong>Ground Water Extraction:</strong> Excessive groundwater extraction has caused Jakarta to sink at an alarming rate, with some areas experiencing subsidence rates of more than 10 cm per year. This subsidence exacerbates the risk of flooding, as the city becomes increasingly lower than sea level.</p></li>
<li><p><strong>Urbanisation and Loss of Green Spaces:</strong> Rapid urban development has led to the loss of green spaces and water-absorbent areas, increasing runoff and reducing the natural absorption of rainwater. This situation is worsened by the fact that many developments occur without proper consideration for their environmental impact, contributing to the city’s vulnerability to floods.</p></li>
<li><p><strong>Climate Change:</strong> The effects of climate change, including rising sea levels and more intense rainfall events, heighten the risk of both coastal and pluvial flooding in Jakarta. These relate to many of the reasons mentioned here.</p></li>
<li><p><strong>Inadequate Infrastructure:</strong> Jakarta’s drainage and flood management infrastructure are often inadequate to handle the volume of water from heavy rains and high tides, partly due to the rapid pace of urban development and challenges in governance and maintenance.</p></li>
<li><p><strong>River Overflow:</strong> The city is crossed by 13 rivers, and the overflow from these rivers during heavy rains is a significant cause of flooding in many parts of Jakarta.</p></li>
</ol>
<p>These factors, create a complex challenge for flood risk management in Jakarta, especially due to the high degree of overlap and interconnectedness of these issues. Addressing these problems requires a nuanced approach that includes improving infrastructure (basic infrastructure, and climate change adaption infrastructure), regulating groundwater extraction, enhancing urban planning to forefront sustainability issues, and further action to mitigate the effects of climate change.</p>
<section id="jakartas-current-strategy" class="level3" data-number="4.1.1">
<h3 data-number="4.1.1" class="anchored" data-anchor-id="jakartas-current-strategy"><span class="header-section-number">4.1.1</span> Jakarta’s Current Strategy</h3>
<p>Jakarta’s strategy for managing its significant flood risk has evolved to include both infrastructural developments and nature-based solutions (NbS), addressing the city’s unique challenges such as extreme urbanization, land subsidence, and the impacts of climate change.</p>
<p>The <a href="https://projects.rvo.nl/programmes/nl-kvk-27378529-23583"><strong>Jakarta Coastal Defense Strategy (JCDS)</strong></a> and the subsequent <a href="https://projects.rvo.nl/projects/nl-kvk-27378529-pvwb12003"><strong>National Capital Integrated Coastal Development Masterplan (NCICD)</strong></a>, also known as the “Giant Sea Wall” or “Great Garuda” project, stand out as major infrastructural components of Jakarta’s flood management efforts. Initiated with Dutch collaboration, these projects are <a href="https://floodlist.com/asia/plans-reduce-jakarta-flooding">aiming to protect the city</a> from sea-level rise and coastal flooding by constructing large sea walls and creating retention areas to manage excess water. This strategy is being complemented by efforts to regulate river flows and expand flood reservoirs, as well as the clearing of waterways to restore their capacity. However, the Giant Sea Wall has come under criticism with <a href="it cements rather than transforms the current risk management paradigm which gravitates around the goal of controlling flood symptoms, rather than addressing their largely anthropogenic root causes">Garschagen et al (2018)</a> describing is as “[cemeting] rather than [transforming] the current risk management paradigm which gravitates around the goal of controlling flood symptoms, rather than addressing their largely anthropogenic root causes.”</p>
<div class="columns">
<div class="column" style="width:47%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src=".\Week4/sustainability-10-02934-g004.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">The Great Garuda Project - Masterplan</figcaption>
</figure>
</div>
</div><div class="column" style="margin-left:3%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src=".\Week4/02-masterplan-Jakarta.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Masterplan Render</figcaption>
</figure>
</div>
</div>
</div>
<p>Despite the ambitious plans and potential benefits of these strategies, <a href="https://floodlist.com/asia/plans-reduce-jakarta-flooding">Jakarta faces challenges</a> such as budgetary constraints, poor maintenance of existing infrastructure, and the need for significant resettlement to accommodate new projects. Additonally, the success of these initiatives requires overcoming bureaucratic and corruption-related hurdles that have historically impeded large-scale urban projects in Indonesia.</p>
</section>
</section>
<section id="application" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="application"><span class="header-section-number">4.2</span> Application</h2>
<p><a href="https://www.mdpi.com/2071-1050/10/8/2934">Garschagen et al (2018)</a> identify that Jakarta is not being held back by lack of will for change - quite the opposite. They describe that despite the scale of the planned projects (such as the Great Garuda project), solutions have been found to many, typical, issues including financing or technical barriers. Instead the main challenge is within governance and related to issues within “societal and political negotiation of conflicting visions and paradigms for risk reduction, and especially the burden-sharing of negative side-effects” (ibid, pp.&nbsp;15).</p>
<p>Consequently, a move which may be highly beneficial for Jakarta is more transparent data sharing and discussion. The development of an online quasi dashboard forum.</p>
<blockquote class="blockquote">
<p>In Barcelona, <a href="https://decidim.org/">Decidim</a> is a digital platform for citizen participation - it allows the urban realm to be discussed with participation at the forefront. Citizens are effectively invited to design and improve upon the participatory process; invited to contribute proposals that will be debated (which could translate into binding legislation, provided certain thresholds are met); and invited to monitor and assess both the process in its procedures as in its outcomes.</p>
</blockquote>
<blockquote class="blockquote">
<p>In Singapore, <a href="https://www.geospatialworld.net/prime/case-study/national-mapping/virtual-singapore-building-a-3d-empowered-smart-nation/">Virtual Singapore</a>, a dynamic digital twin of the city-state, simulates the urban environment through integrates intricate details of the city along with real-time dynamic data, facilitating a range of urban planning and management tasks. It uses an extensive range of data sources including air quality, temperature, and noise. It allows different scenarios to be tested; for emergency preparedness, urban planning considerations, development collaboration, environmental impacts, among others. Whilst it is aimed at government and development organisations, it will be made accesible to the public in the future.</p>
</blockquote>
<p>Jakarta could utilise these case studies. Through the use of rain gauges, historic weather data, water level sensors, satellite imagery and population data, Jakarta could build an online dashboard utilising the most up-to-date information.</p>
<p>Esri Indonesia’s ESSC has developed a <a href="https://esriindonesia.co.id/news/esscs-gis-powered-jakarta-flood-map-portal">flood map portal</a>, however it does not go far enough and could benefit from more dynamic satellite and population data.</p>
<p>Satellite imagery could be attained from Sentinel-1 and Sentinel-2, due to their ability to provide global coverage to high spatial and temporal resolutions. Sentinel-1 is equipped with a synthetic aperture radar (SAR), and so can penetrate clouds and provide imagery during day and night, making it ideal for rapid mapping of flood events and supporting early warning systems. Sentinel-2 complements this with high-resolution optical imaging, useful for monitoring inundation events and assessing damage post-crisis, although its effectiveness can be hampered by cloud cover during rainfall events.</p>
<p>Population data can be synthesised, along with ‘on the ground’ sensors to assess, both in real-time and through forecasting, locations at the greatest risk, taking into account impacted population size, likely infrastructural damage, and scale of impact.</p>
<p>Through making this accessible to citizens, they are able to prepare in the event of an emergency situation, but are also able to reconcile their own experiences of flooding with an quantifiable collective understanding of the risks it poses. This could allow more informed discussions where citizens and the government engage openly.</p>
<ul>
<li><strong>Flood Mapping and Monitoring:</strong> SAR data allows for the real-time mapping of flood extents, even under cloud cover, which is crucial for timely evacuation and response.</li>
<li><strong>Risk Assessment:</strong> Combining SAR data with DEMs and population data helps identify flood-prone areas, critical for planning and implementing flood defenses.</li>
<li><strong>Infrastructure Planning:</strong> Insights from remotely sensed data support the design and placement of flood mitigation infrastructure, like dams and improved drainage systems.</li>
<li><strong>Disaster Preparedness and Response:</strong> The data enhances the efficiency of disaster response efforts by identifying affected areas and prioritizing rescue and relief operations.</li>
</ul>
<p><strong>Link to Global Goals</strong><br>
Jakarta’s efforts to manage flooding through remotely sensed data contribute to the <a href="https://sdgs.un.org/goals">Sustainable Development Goals (SDGs)</a>, particularly:</p>
<ul>
<li><strong>SDG 11 (Sustainable Cities and Communities):</strong> By enhancing urban resilience against flooding.</li>
<li><strong>SDG 13 (Climate Action):</strong> Contributing to disaster risk reduction in the face of climate change.</li>
</ul>
</section>
<section id="reflection" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="reflection"><span class="header-section-number">4.3</span> Reflection</h2>
<p>I particularly enjoyed this week as it has lent itself a lot to what I studied for my BSc - urban planning. The case of Jakarta is severe - it is one of the largest megacities in the world and is facing an immense crisis regarding flooding. Its sinking rate of 10cm a year is quite phenomenal - that is one meter every 10 years (so, in theory, has sunk over 2m over the course of my life, which is an astounding thought). [Edit from week 9: SAR could be implemented in this regard to the proposed dashboard for its ability to detect elevations and understand where the city is sinking at the most rapid rates].</p>
<p>These solutions are not easy - whilst it is very easy to say that they ‘simply need to develop a dashbaord’, the issue goes beyond that. Responses to urban issues are often complex, with many competing interests and desires. Further, the inevitable issue of project financing, especially in a country where corruption is an issue and access to capital, whilst not critically lacking, leaves more to be desired for an optimal response. When looking at policy documents and urban issues, it is easy to become overwhelmed by the sheer volume of policy documentation (which is often bulky, not completely up-to-date, and hard to naviagate) and resident desires and needs.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./Week3.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Corrections and Enahancements</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Week6.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Intro to Google Earth Engine</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>